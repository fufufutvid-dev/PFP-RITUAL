<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PFP RITUAL GENERATOR</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@900&family=Orbitron:wght@500&display=swap');
  :root {--gold:#d4af37;--dark:#000;}
  *{margin:0;padding:0;box-sizing:border-box;}
  body{background:var(--dark);color:#eee;font-family:'Orbitron',sans-serif;min-height:100vh;text-align:center;overflow-x:hidden;}
  canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;}
  .container{position:relative;z-index:2;padding:2rem;}
  .logo{width:180px;height:180px;filter:drop-shadow(0 0 30px #d4af3799);margin:20px auto;}
  h1{font-family:'Cinzel Decorative',cursive;font-size:4.5rem;background:linear-gradient(90deg,#d4af37,#fff,#d4af37);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:8px;}
  .upload{background:rgba(30,30,30,0.8);border:3px dashed var(--gold);border-radius:20px;padding:50px;margin:40px auto;max-width:500px;cursor:pointer;transition:.4s;}
  .upload:hover{border-color:#fff;box-shadow:0 0 50px rgba(212,175,55,0.5);}
  .preview{margin:40px auto;max-width:460px;display:none;}
  .preview img{width:100%;border-radius:20px;box-shadow:0 0 70px rgba(212,175,55,0.7);}
  button{background:linear-gradient(45deg,#d4af37,#ffd700);color:#000;border:none;padding:15px 40px;margin:15px;font-size:1.3rem;border-radius:50px;cursor:pointer;font-weight:bold;}
  button:hover{transform:translateY(-5px);box-shadow:0 15px 40px rgba(212,175,55,0.6);}
  .credit{position:fixed;bottom:15px;left:50%;transform:translateX(-50%);opacity:0.7;font-size:0.9rem;}
  .credit a{color:var(--gold);text-decoration:none;}
</style>
</head>
<body>

<canvas id="particles"></canvas>

<div class="container">
  <img src="https://i.imgur.com/2q2i1z.png" class="logo" alt="Ritual Logo">
  <h1>PFP RITUAL</h1>
  <p style="letter-spacing:4px;margin:20px;">UNLEASH THE ANCIENT POWER</p>

  <div class="upload" id="upload">
    <p style="font-size:1.5rem;margin-bottom:10px;">CLICK OR DROP YOUR PHOTO HERE</p>
    <p>PNG / JPG / GIF â€¢ Max 10MB</p>
    <input type="file" id="file" accept="image/*" style="display:none;">
  </div>

  <div class="preview" id="result">
    <img id="output" src="" alt="Your Ritual PFP">
    <br>
    <button onclick="download()">DOWNLOAD PFP</button>
    <button onclick="applyRitual()">NEW RITUAL STYLE</button>
  </div>

  <div class="credit">
    Ritual symbol by <a href="https://x.com/ega_2ez4crypto" target="_blank">@ega_2ez4crypto</a>
  </div>
</div>

<script>
// Particles
const c = document.getElementById('particles');
const ctx = c.getContext('2d');
c.width = innerWidth; c.height = innerHeight;
let particles = [];
for(let i=0;i<90;i++){
  particles.push({x:Math.random()*c.width,y:Math.random()*c.height,vx:Math.random()*0.8-0.4,vy:Math.random()*0.8-0.4,r:Math.random()*2+1});
}
function anim(){
  ctx.clearRect(0,0,c.width,c.height);
  particles.forEach(p=>{
    p.x+=p.vx; p.y+=p.vy;
    if(p.x<0||p.x>c.width) p.vx*=-1;
    if(p.y<0||p.y>c.height) p.vy*=-1;
    ctx.fillStyle='rgba(212,175,55,0.7)'; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
  });
  requestAnimationFrame(anim);
}
anim();
window.addEventListener('resize',()=>{c.width=innerWidth;c.height=innerHeight;});

// Upload & Process
let userImage = null;
const uploadDiv = document.getElementById('upload');
const fileInput = document.getElementById('file');
const result = document.getElementById('result');
const output = document.getElementById('output');

uploadDiv.onclick = () => fileInput.click();
fileInput.onchange = () => {
  const file = fileInput.files[0];
  if(file && file.type.startsWith('image/')){
    const reader = new FileReader();
    reader.onload = e => {
      userImage = new Image();
      userImage.onload = () => { applyRitual(); };
      userImage.src = e.target.result;
    };
    reader.readAsDataURL(file);
  }
};

// 8 Epic Backgrounds
const backgrounds = [
  ()=>{ctx.fillStyle='#111';ctx.fillRect(0,0,460,460);const g=ctx.createRadialGradient(230,230,0,230,230,300);g.addColorStop(0,'#d4af37');g.addColorStop(1,'#000');ctx.fillStyle=g;ctx.fillRect(0,0,460,460);}, // Gold Temple
  ()=>{ctx.fillStyle='#000';ctx.fillRect(0,0,460,460);}, // Pure Black
  ()=>{ctx.fillStyle='#0b0101';ctx.fillRect(0,0,460,460);const g=ctx.createRadialGradient(230,230,100,230,230,400);g.addColorStop(0,'#8B0000');g.addColorStop(1,'#000');ctx.fillStyle=g;ctx.fillRect(0,0,460,460);}, // Blood Moon
  ()=>{ctx.fillStyle='#001a0a';ctx.fillRect(0,0,460,460);const g=ctx.createRadialGradient(230,230,0,230,230,320);g.addColorStop(0,'#00ff9d');g.addColorStop(1,'#000');ctx.fillStyle=g;ctx.fillRect(0,0,460,460);}, // Emerald
  ()=>{ctx.fillStyle='#0d001a';ctx.fillRect(0,0,460,460);const g=ctx.createRadialGradient(230,230,0,230,230,350);g.addColorStop(0,'#9d00ff');g.addColorStop(1,'#000');ctx.fillStyle=g;ctx.fillRect(0,0,460,460);}, // Purple Void
  ()=>{ctx.fillStyle='#000';ctx.fillRect(0,0,460,460);for(let i=0;i<40;i++){ctx.fillStyle='rgba(212,175,55,0.15)';ctx.fillRect(Math.random()*460,Math.random()*460,3,3);}}, // Star Dust
  ()=>{const g=ctx.createLinearGradient(0,0,460,460);g.addColorStop(0,'#ff4500');g.addColorStop(0.5,'#8B0000');g.addColorStop(1,'#000');ctx.fillStyle=g;ctx.fillRect(0,0,460,460);}, // Inferno
  ()=>{ctx.fillStyle='#111';ctx.fillRect(0,0,460,460);const g=ctx.createRadialGradient(230,230,0,230,230,400);g.addColorStop(0,'#ffffff');g.addColorStop(0.4,'#d4af37');g.addColorStop(1,'#000');ctx.fillStyle=g;ctx.fillRect(0,0,460,460);} // Sacred Light
];

const ritualLogo = new Image();
ritualLogo.src = "https://i.imgur.com/2q2i1z.png";

function applyRitual(){
  if(!userImage) return;
  const canvas = document.createElement('canvas');
  canvas.width = 460; canvas.height = 460;
  const ctx = canvas.getContext('2d');

  // Random background
  backgrounds[Math.floor(Math.random()*backgrounds.length)]();

  // Draw user photo (fit & center)
  const scale = Math.max(400 / userImage.width, 400 / userImage.height);
  const w = userImage.width * scale;
  const h = userImage.height * scale;
  ctx.drawImage(userImage, 230 - w/2, 230 - h/2, w, h);

  // Always apply exact ritual logo
  ctx.globalAlpha = 0.15 + Math.random()*0.15;
  ctx.drawImage(ritualLogo, 0, 0, 460, 460);

  // Gold border
  ctx.globalAlpha = 1;
  ctx.strokeStyle = '#d4af37';
  ctx.lineWidth = 16;
  ctx.shadowColor = '#d4af37';
  ctx.shadowBlur = 50;
  ctx.strokeRect(12, 12, 436, 436);

  output.src = canvas.toDataURL('image/png');
  result.style.display = 'block';
  uploadDiv.style.display = 'none';
}

function download(){
  const a = document.createElement('a');
  a.href = output.src;
  a.download = 'ritual-pfp.png';
  a.click();
}
</script>
</body>
</html>
