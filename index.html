<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PFP RITUAL GENERATOR</title>
<style>
  body{margin:0;background:#000;color:#fff;font-family:Arial,sans-serif;text-align:center;padding:20px;}
  .logo{width:160px;margin:20px auto;display:block;filter:drop-shadow(0 0 20px #d4af37);}
  h1{font-size:3.5rem;margin:10px;background:linear-gradient(90deg,#d4af37,#fff,#d4af37);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .upload{border:4px dashed #d4af37;padding:60px;border-radius:20px;margin:40px auto;max-width:500px;cursor:pointer;background:rgba(30,30,30,0.7);}
  .upload:hover{background:rgba(50,50,50,0.9);border-color:#fff;}
  #result{display:none;margin:40px auto;max-width:500px;}
  #result img{max-width:100%;border-radius:20px;box-shadow:0 0 60px #d4af37;border:4px solid #d4af37;}
  button{background:#d4af37;color:#000;padding:15px 35px;margin:15px;font-size:18px;border:none;border-radius:50px;cursor:pointer;font-weight:bold;}
  button:hover{background:#ffd700;transform:scale(1.05);}
  .credit{margin-top:50px;font-size:14px;opacity:0.7;}
  .credit a{color:#d4af37;text-decoration:none;}
</style>
</head>
<body>

<img src="https://i.imgur.com/2q2i1z.png" class="logo" alt="Ritual Logo">
<h1>PFP RITUAL</h1>
<p style="font-size:18px;letter-spacing:3px;margin:20px;">UNLEASH THE ANCIENT POWER</p>

<div class="upload" onclick="document.getElementById('file').click()">
  <p style="font-size:22px;margin:10px;">CLICK HERE TO UPLOAD YOUR PHOTO</p>
  <p>PNG • JPG • GIF</p>
  <input type="file" id="file" accept="image/*" style="display:none">
</div>

<div id="result">
  <img id="output" src="" alt="Your Ritual PFP">
  <br><br>
  <button onclick="download()">DOWNLOAD PFP</button>
  <button onclick="newRitual()">NEW RITUAL STYLE</button>
</div>

<div class="credit">
  Ritual symbol by <a href="https://x.com/ega_2ez4crypto" target="_blank">@ega_2ez4crypto</a>
</div>

<script>
let userImg = null;

// Upload langsung jalan saat pilih foto
document.getElementById('file').addEventListener('change', function(e){
  if(e.target.files[0]){
    const reader = new FileReader();
    reader.onload = function(ev){
      userImg = new Image();
      userImg.onload = function(){
        generateRitual();  // langsung generate
      }
      userImg.src = ev.target.result;
    }
    reader.readAsDataURL(e.target.files[0]);
  }
});

const ritualLogo = new Image();
ritualLogo.src = "https://i.imgur.com/2q2i1z.png";

const backgrounds = [
  "linear-gradient(135deg, #1a0f00, #000)",           // Gold Temple
  "radial-gradient(circle at center, #000, #111)",    // Pure Void
  "radial-gradient(circle at center, #8B0000, #000)", // Blood Moon
  "radial-gradient(circle at center, #004d26, #000)", // Emerald
  "radial-gradient(circle at center, #4B0082, #000)", // Purple Void
  "radial-gradient(circle at center, #000428, #004e92)", // Cosmic
  "linear-gradient(135deg, #ff4500, #8B0000, #000)",  // Inferno
  "radial-gradient(circle at center, #d4af37, #000)"  // Sacred Gold
];

function generateRitual(){
  const canvas = document.createElement('canvas');
  canvas.width = 512;
  canvas.height = 512;
  const ctx = canvas.getContext('2d');

  // Random background
  const bg = backgrounds[Math.floor(Math.random() * backgrounds.length)];
  ctx.fillStyle = '#000';
  ctx.fillRect(0,0,512,512);
  if(bg.includes('gradient')){
    const grad = bg.includes('radial') ? 
      ctx.createRadialGradient(256,256,0,256,256,300) : 
      ctx.createLinearGradient(0,0,512,512);
    if(bg.includes('gold')) {grad.addColorStop(0,'#d4af37');grad.addColorStop(1,'#000');}
    else if(bg.includes('#8B0000')) {grad.addColorStop(0,'#8B0000');grad.addColorStop(1,'#000');}
    else if(bg.includes('#004d26')) {grad.addColorStop(0,'#00ff9d');grad.addColorStop(1,'#000');}
    else if(bg.includes('#4B0082')) {grad.addColorStop(0,'#9d00ff');grad.addColorStop(1,'#000');}
    else if(bg.includes('#ff4500')) {grad.addColorStop(0,'#ff4500');grad.addColorStop(1,'#000');}
    ctx.fillStyle = grad;
    ctx.fillRect(0,0,512,512);
  }

  // Gambar foto user
  const size = Math.min(userImg.width, userImg.height);
  const sx = (userImg.width - size)/2;
  const sy = (userImg.height - size)/2;
  ctx.drawImage(userImg, sx, sy, size, size, 56, 56, 400, 400);

  // Logo ritual (selalu ada)
  ctx.globalAlpha = 0.18;
  ctx.drawImage(ritualLogo, 0, 0, 512, 512);
  ctx.globalAlpha = 1;

  // Gold border
  ctx.strokeStyle = '#d4af37';
  ctx.lineWidth = 16;
  ctx.shadowColor = '#d4af37';
  ctx.shadowBlur = 40;
  ctx.strokeRect(20, 20, 472, 472);

  // Tampilkan hasil
  document.getElementById('output').src = canvas.toDataURL();
  document.getElementById('result').style.display = 'block';
  document.querySelector('.upload').style.display = 'none';
}

function newRitual(){
  if(userImg) generateRitual();
}

function download(){
  const a = document.createElement('a');
  a.href = document.getElementById('output').src;
  a.download = 'ritual-pfp.png';
  a.click();
}
</script>
</body>
</html>
