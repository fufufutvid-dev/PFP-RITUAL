import React, { useRef, useState, useEffect } from "react";
<div className="grid grid-cols-2 gap-3">
<label className="text-sm text-gray-400">Frame style</label>
<select value={frameStyle} onChange={(e) => setFrameStyle(e.target.value)} className="bg-transparent border border-gray-800 rounded-md p-2 text-sm">
<option value="ornate">Ornate</option>
<option value="minimal">Minimal</option>
<option value="rune">Rune</option>
</select>
</div>


<div className="grid grid-cols-2 gap-3">
<label className="text-sm text-gray-400">Border width</label>
<input type="range" min={4} max={48} value={border} onChange={(e) => setBorder(parseInt(e.target.value, 10))} />
</div>


<div className="grid grid-cols-1 gap-2">
<label className="text-sm text-gray-400">Grain</label>
<input type="range" min={0} max={0.4} step={0.01} value={grain} onChange={(e) => setGrain(parseFloat(e.target.value))} />


<label className="text-sm text-gray-400">Glow</label>
<input type="range" min={0} max={1.5} step={0.01} value={glow} onChange={(e) => setGlow(parseFloat(e.target.value))} />


<label className="text-sm text-gray-400">Vignette</label>
<input type="range" min={0} max={1} step={0.01} value={vignette} onChange={(e) => setVignette(parseFloat(e.target.value))} />


<label className="text-sm text-gray-400">Saturation</label>
<input type="range" min={0.6} max={1.6} step={0.01} value={saturation} onChange={(e) => setSaturation(parseFloat(e.target.value))} />


<label className="text-sm text-gray-400">Contrast</label>
<input type="range" min={0.7} max={1.4} step={0.01} value={contrast} onChange={(e) => setContrast(parseFloat(e.target.value))} />
</div>
</div>


<div className="mt-auto flex gap-3">
<button onClick={drawPreview} className="px-4 py-2 rounded-lg bg-white/6 border border-white/8 text-sm">Generate</button>
<button onClick={downloadPNG} className="px-4 py-2 rounded-lg bg-gradient-to-r from-amber-500 to-yellow-400 text-black text-sm">Download</button>
<button onClick={() => { setSize(1024); setGrain(0.12); setGlow(0.5); setVignette(0.5); setSaturation(1.05); setContrast(1.05); setBorder(18); setFrameStyle('ornate'); }} className="px-3 py-2 rounded-md border border-gray-700 text-sm">Reset</button>
</div>


<div className="text-xs text-gray-500 mt-3">
<p>Created by <a href="https://x.com/ega_2ez4crypto" target="_blank" rel="noreferrer" className="underline">@ega_2ez4crypto</a>. Use for profile pictures and social avatars. No server upload required â€” all processing is local to your browser.</p>
</div>
</div>


<div className="col-span-12 lg:col-span-7 flex flex-col items-center gap-4">
<div className="w-full bg-black rounded-xl p-4 border border-gray-800 flex items-center justify-center">
<div className="relative">
<canvas ref={canvasRef} className="rounded-md shadow-xl" style={{ width: size / 2, height: size / 2, maxWidth: '100%', display: 'block' }} />
{processing && (
<div className="absolute inset-0 flex items-center justify-center">
<div className="p-3 bg-black/60 rounded-md">Processing...</div>
</div>
)}
</div>
</div>


<div className="w-full flex items-center justify-between text-sm text-gray-400">
<div>Preview (canvas size: {size}px)</div>
<div>Tip: Use square / headshot photos for best results</div>
</div>


<div className="w-full grid grid-cols-3 gap-3">
<PresetCard name="Elegant" onClick={() => { setSaturation(1.05); setContrast(1.05); setGrain(0.12); setGlow(0.55); setVignette(0.45); setBorder(18); setFrameStyle('ornate'); drawPreview(); }} />
<PresetCard name="Arcane" onClick={() => { setSaturation(0.98); setContrast(1.12); setGrain(0.18); setGlow(0.8); setVignette(0.6); setBorder(26); setFrameStyle('rune'); drawPreview(); }} />
<PresetCard name="Minimal" onClick={() => { setSaturation(1.1); setContrast(1.03); setGrain(0.06); setGlow(0.25); setVignette(0.25); setBorder(8); setFrameStyle('minimal'); drawPreview(); }} />
</div>


</div>
</div>
</div>
);
}


function PresetCard({ name, onClick }) {
return (
<motion.button whileHover={{ scale: 1.02 }} onClick={onClick} className="rounded-lg p-3 bg-gradient-to-br from-white/4 to-transparent border border-gray-800 text-left">
<div className="text-sm font-semibold">{name}</div>
<div className="text-xs text-gray-400">Preview style</div>
</motion.button>
);
}
