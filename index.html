<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PFP RITUAL GENERATOR</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@900&family=Orbitron:wght@500;800&display=swap');
    
    :root { --gold: #d4af37; --dark: #0c0c0c; --glow: #d4af3799; }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:#000; color:#eee; font-family:'Orbitron',sans-serif; min-height:100vh; overflow-x:hidden; position:relative; }
    canvas#particles { position:fixed; top:0; left:0; width:100%; height:100%; z-index:1; pointer-events:none; }
    
    .container { position:relative; z-index:2; max-width:1100px; margin:0 auto; padding:2rem; text-align:center; }
    header { margin-bottom:4rem; padding-top:3rem; }
    .logo { width:180px; height:180px; filter:drop-shadow(0 0 30px var(--glow)); margin-bottom:1.5rem; }
    h1 { font-family:'Cinzel Decorative',cursive; font-size:4.5rem; background:linear-gradient(90deg,#d4af37,#fff,#d4af37); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-shadow:0 0 40px var(--glow); letter-spacing:8px; }
    .subtitle { font-size:1.2rem; opacity:0.8; margin-top:1rem; letter-spacing:4px; }
    
    .upload-area { background:rgba(20,20,20,0.6); border:2px dashed var(--gold); border-radius:20px; padding:3rem; margin:3rem auto; max-width:500px; cursor:pointer; transition:all .4s; backdrop-filter:blur(10px); }
    .upload-area:hover, .upload-area.dragover { border-color:#fff; box-shadow:0 0 40px rgba(212,175,55,0.4); }
    
    .preview { margin:3rem auto; max-width:440px; }
    .preview img { width:100%; border-radius:20px; box-shadow:0 0 60px rgba(212,175,55,0.6); }
    button { background:linear-gradient(45deg,#d4af37,#ffd700); color:#000; border:none; padding:1rem 3rem; font-size:1.3rem; font-weight:bold; border-radius:50px; cursor:pointer; margin:2rem; box-shadow:0 10px 30px rgba(212,175,55,0.4); transition:all .3s; }
    button:hover { transform:translateY(-5px); box-shadow:0 20px 40px rgba(212,175,55,0.6); }
    
    .credit { position:fixed; bottom:20px; left:50%; transform:translateX(-50%); font-size:0.9rem; opacity:0.6; }
    .credit a { color:var(--gold); text-decoration:none; }
  </style>
</head>
<body>

<canvas id="particles"></canvas>

<div class="container">
  <header>
    <img src="https://i.imgur.com/2q2i1z.png" alt="Ritual Logo" class="logo">
    <h1>PFP RITUAL</h1>
    <p class="subtitle">UNLEASH THE ANCIENT POWER</p>
  </header>

  <div class="upload-area" id="dropArea">
    <p style="font-size:1.4rem; margin-bottom:1rem;">DROP YOUR IMAGE OR CLICK TO UPLOAD</p>
    <input type="file" id="fileInput" accept="image/*" hidden>
  </div>

  <div class="preview" id="previewContainer" style="display:none;">
    <img id="output" src="" alt="Ritualized PFP"/>
    <br/>
    <button onclick="downloadImage()">DOWNLOAD RITUALIZED PFP</button>
    <button onclick="regenerate()">REGENERATE WITH NEW RITUAL</button>
  </div>

  <div class="credit">
    Ritual symbol by <a href="https://x.com/ega_2ez4crypto" target="_blank">@ega_2ez4crypto</a>
  </div>
</div>

<script>
// Particles
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;
let particles = [];
for(let i=0;i<80;i++){
  particles.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    size:Math.random()*3+0.5,
    speedX:Math.random()*0.6-0.3,
    speedY:Math.random()*0.6-0.3
  });
}
function drawParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    p.x += p.speedX; p.y += p.speedY;
    if(p.x<0||p.x>canvas.width) p.speedX*=-1;
    if(p.y<0||p.y>canvas.height) p.speedY*=-1;
    ctx.fillStyle='rgba(212,175,55,0.6)'; ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
  });
  requestAnimationFrame(drawParticles);
}
drawParticles();
window.addEventListener('resize',()=>{canvas.width=innerWidth;canvas.height=innerHeight;});

// Upload
const dropArea = document.getElementById('dropArea');
const fileInput = document.getElementById('fileInput');
let originalImage = null;

dropArea.onclick = () => fileInput.click();
fileInput.onchange = e => { if(e.target.files[0]) processFile(e.target.files[0]); };

dropArea.ondragover = dropArea.ondragenter = e => {e.preventDefault(); dropArea.classList.add('dragover');};
dropArea.ondragleave = dropArea.ondragend = () => dropArea.classList.remove('dragover');
dropArea.ondrop = e => {e.preventDefault(); dropArea.classList.remove('dragover'); if(e.dataTransfer.files[0]) processFile(e.dataTransfer.files[0]);};

function processFile(file){
  if(!file.type.startsWith('image/')) return alert('Please upload an image');
  const reader = new FileReader();
  reader.onload = e => {
    const img = new Image();
    img.onload = () => { originalImage = img; regenerate(); };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
}

// 8 Epic Ritual Backgrounds (logo selalu ada)
const rituals = [
  // 0 - Pure Gold Temple
  ctx=>{ ctx.fillStyle='#1a1408'; ctx.fillRect(0,0,440,440);
         const grad = ctx.createRadialGradient(220,220,0,220,220,300);
         grad.addColorStop(0,'#d4af37'); grad.addColorStop(1,'#0f0a03'); ctx.fillStyle=grad; ctx.fillRect(0,0,440,440); },
  // 1 - Obsidian Void
  ctx=>{ ctx.fillStyle='#000'; ctx.fillRect(0,0,440,440);
         ctx.fillStyle='rgba(212,175,55,0.08)'; for(let i=0;i<30;i++) { ctx.fillRect(Math.random()*440,Math.random()*440,4,4); }},
  // 2 - Blood Moon
  ctx=>{ ctx.fillStyle='#0b0101'; ctx.fillRect(0,0,440,440);
         const grad = ctx.createRadialGradient(220,220,100,220,220,400);
         grad.addColorStop(0,'#8B0000'); grad.addColorStop(1,'#000'); ctx.fillStyle=grad; ctx.fillRect(0,0,440,440); },
  // 3 - Emerald Abyss
  ctx=>{ ctx.fillStyle='#001a0a'; ctx.fillRect(0,0,440,440);
         const grad = ctx.createRadialGradient(220,220,0,220,220,320);
         grad.addColorStop(0,'#00ff9d'); grad.addColorStop(1,'#000'); ctx.fillStyle=grad; ctx.fillRect(0,0,440,440); },
  // 4 - Cosmic Purple
  ctx=>{ ctx.fillStyle='#0d001a'; ctx.fillRect(0,0,440,440);
         const grad = ctx.createRadialGradient(220,220,0,220,220,350);
         grad.addColorStop(0,'#9d00ff'); grad.addColorStop(1,'#000'); ctx.fillStyle=grad; ctx.fillRect(0,0,440,440); },
  // 5 - Ancient Runes
  ctx=>{ ctx.fillStyle='#0a0a0a'; ctx.fillRect(0,0,440,440);
         ctx.strokeStyle='rgba(212,175,55,0.3)'; ctx.lineWidth=3;
         for(let i=0;i<15;i++){ ctx.beginPath(); ctx.moveTo(Math.random()*440,Math.random()*440); ctx.lineTo(Math.random()*440,Math.random()*440); ctx.stroke(); }},
  // 6 - Inferno
  ctx=>{ const grad = ctx.createLinearGradient(0,0,440,440);
         grad.addColorStop(0,'#ff4500'); grad.addColorStop(0.5,'#8B0000'); grad.addColorStop(1,'#000');
         ctx.fillStyle=grad; ctx.fillRect(0,0,440,440); },
  // 7 - Sacred Light
  ctx=>{ ctx.fillStyle='#111'; ctx.fillRect(0,0,440,440);
         const grad = ctx.createRadialGradient(220,220,0,220,220,400);
         grad.addColorStop(0,'#fff'); grad.addColorStop(0.3,'#d4af37'); grad.addColorStop(1,'#000');
         ctx.fillStyle=grad; ctx.fillRect(0,0,440,440); }
];

const logoImg = new Image();
logoImg.src = "https://i.imgur.com/2q2i1z.png"; // logo asli kamu

function regenerate(){
  if(!originalImage) return;
  
  const canvas = document.createElement('canvas');
  canvas.width = 440; canvas.height = 440;
  const ctx = canvas.getContext('2d');
  
  // Random ritual
  const ritualId = Math.floor(Math.random() * rituals.length);
  rituals[ritualId](ctx);
  
  // Draw uploaded image (centered + fit)
  const ratio = Math.min(380 / originalImage.width, 380 / originalImage.height);
  const w = originalImage.width * ratio;
  const h = originalImage.height * ratio;
  ctx.drawImage(originalImage, 220 - w/2, 220 - h/2, w, h);
  
  // Always draw the exact ritual logo (with random opacity & slight rotation for variety)
  ctx.globalAlpha = 0.12 + Math.random()*0.18;
  ctx.translate(220,220);
  ctx.rotate((Math.random()-0.5)*0.2);
  ctx.drawImage(logoImg, -210, -210, 420, 420);
  ctx.setTransform(1,0,0,1,0,0);
  
  // Gold border glow
  ctx.globalAlpha = 1;
  ctx.strokeStyle = '#d4af37';
  ctx.lineWidth = 14;
  ctx.shadowColor = '#d4af37';
  ctx.shadowBlur = 40;
  ctx.strokeRect(10,10,420,420);
  
  document.getElementById('output').src = canvas.toDataURL('image/png');
  document.getElementById('previewContainer').style.display = 'block';
}

function downloadImage(){
  const a = document.createElement('a');
  a.href = document.getElementById('output').src;
  a.download = 'ritual-pfp.png';
  a.click();
}
</script>
</body>
</html>
